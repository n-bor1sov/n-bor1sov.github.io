import{s as le,f as o,a as P,l as N,g as l,h as g,r as R,c as S,m as W,d as f,j as r,B as ae,i as re,w as s,C as ie,D as oe,n as Q,u as X,E as de,F as me}from"../chunks/scheduler.17fc0096.js";import{S as ce,i as ue,b as fe,d as pe,m as he,a as _e,t as ve,e as ge}from"../chunks/index.9413dc49.js";const ye=!1,we=ye,Ce=we,be=!0,Le=Object.freeze(Object.defineProperty({__proto__:null,csr:Ce,prerender:be},Symbol.toStringTag,{value:"Module"}));function Ee(n){let t,e,a,i,u="Comics",y,p,x="In this section of the site you can escape from boring everyday life and read an individual comic.",E,h,V="Just enter your Innopolis University email in the field below.",j,w,c,O,C,k,b,Z="Get an Comic",z,d,T,q,A,D,B,H,U,F,J,L,G,Y,$;return{c(){t=o("div"),e=o("div"),a=o("div"),i=o("h2"),i.textContent=u,y=P(),p=o("p"),p.textContent=x,E=P(),h=o("p"),h.textContent=V,j=P(),w=o("form"),c=o("label"),O=N("Enter the email "),C=o("input"),k=P(),b=o("button"),b.textContent=Z,z=P(),d=o("div"),T=o("p"),q=N(n[0]),A=P(),D=o("img"),H=P(),U=o("p"),F=N(n[2]),J=P(),L=o("p"),G=N(n[3]),this.h()},l(m){t=l(m,"DIV",{class:!0});var _=g(t);e=l(_,"DIV",{class:!0});var M=g(e);a=l(M,"DIV",{class:!0});var v=g(a);i=l(v,"H2",{"data-svelte-h":!0}),R(i)!=="svelte-mcstic"&&(i.textContent=u),y=S(v),p=l(v,"P",{"data-svelte-h":!0}),R(p)!=="svelte-1fa5hlf"&&(p.textContent=x),E=S(v),h=l(v,"P",{"data-svelte-h":!0}),R(h)!=="svelte-1q7puir"&&(h.textContent=V),j=S(v),w=l(v,"FORM",{id:!0});var ee=g(w);c=l(ee,"LABEL",{});var K=g(c);O=W(K,"Enter the email "),C=l(K,"INPUT",{class:!0,type:!0}),K.forEach(f),ee.forEach(f),k=S(v),b=l(v,"BUTTON",{id:!0,class:!0,"data-svelte-h":!0}),R(b)!=="svelte-m5p2lo"&&(b.textContent=Z),v.forEach(f),z=S(M),d=l(M,"DIV",{class:!0});var I=g(d);T=l(I,"P",{id:!0});var te=g(T);q=W(te,n[0]),te.forEach(f),A=S(I),D=l(I,"IMG",{id:!0,src:!0}),H=S(I),U=l(I,"P",{id:!0});var se=g(U);F=W(se,n[2]),se.forEach(f),J=S(I),L=l(I,"P",{id:!0});var ne=g(L);G=W(ne,n[3]),ne.forEach(f),I.forEach(f),M.forEach(f),_.forEach(f),this.h()},h(){r(C,"class","email svelte-1y5g8fw"),r(C,"type","text"),r(w,"id","email-form"),r(b,"id","get-id-btn"),r(b,"class","svelte-1y5g8fw"),r(a,"class","item-main svelte-1y5g8fw"),r(T,"id","id"),r(D,"id","comic-img"),ae(D.src,B=n[1])||r(D,"src",B),r(U,"id","comic-title"),r(L,"id","pub-date"),r(d,"class","item-main svelte-1y5g8fw"),r(e,"class","flexbox-main svelte-1y5g8fw"),r(t,"class","container")},m(m,_){re(m,t,_),s(t,e),s(e,a),s(a,i),s(a,y),s(a,p),s(a,E),s(a,h),s(a,j),s(a,w),s(w,c),s(c,O),s(c,C),ie(C,n[4]),s(a,k),s(a,b),s(e,z),s(e,d),s(d,T),s(T,q),s(d,A),s(d,D),s(d,H),s(d,U),s(U,F),s(d,J),s(d,L),s(L,G),Y||($=[oe(C,"input",n[7]),oe(b,"click",n[5])],Y=!0)},p(m,[_]){_&16&&C.value!==m[4]&&ie(C,m[4]),_&1&&Q(q,m[0]),_&2&&!ae(D.src,B=m[1])&&r(D,"src",B),_&4&&Q(F,m[2]),_&8&&Q(G,m[3])},i:X,o:X,d(m){m&&f(t),Y=!1,de($)}}}async function De(n){const t=new URLSearchParams;return n&&t.append("email",n),await(await fetch("https://fwd.innopolis.university/api/hw2?"+t.toString())).json()}async function Ie(n){const t=new URLSearchParams;return n&&t.append("id",n),await(await fetch("https://fwd.innopolis.university/api/comic?"+t.toString())).json()}function Pe(n,t,e){const a=me();let i="",u="",y="",p="",x="",E="",h="";async function V(){if(e(0,y="Loading..."),i=u,!i.endsWith("@innopolis.university"))e(0,y='Email should include "@innopolis.university"'),e(1,p=""),e(2,x=""),e(3,E=""),e(6,h="");else{const w=await De(i);e(0,y="Unique id of your comic is: "+w);const c=await Ie(w);console.log(c),e(1,p=c.img),e(2,x="Title: "+c.safe_title);const O=new Date(Date.UTC(c.year,c.month,c.day));e(3,E="Was published on: "+O.toLocaleDateString()),e(6,h="Comic was published 15 year ago")}}function j(){u=this.value,e(4,u)}return n.$$.update=()=>{n.$$.dirty&79&&a("update",{idField:y,comicImg:p,comicTitle:x,date:E,fromNow:h})},[y,p,x,E,u,V,h,j]}class Se extends ce{constructor(t){super(),ue(this,t,Pe,Ee,le,{})}}function xe(n){let t,e,a;return e=new Se({}),{c(){t=o("body"),fe(e.$$.fragment),this.h()},l(i){t=l(i,"BODY",{class:!0});var u=g(t);pe(e.$$.fragment,u),u.forEach(f),this.h()},h(){r(t,"class","svelte-mfi1to")},m(i,u){re(i,t,u),he(e,t,null),a=!0},p:X,i(i){a||(_e(e.$$.fragment,i),a=!0)},o(i){ve(e.$$.fragment,i),a=!1},d(i){i&&f(t),ge(e)}}}class je extends ce{constructor(t){super(),ue(this,t,null,xe,le,{})}}export{je as component,Le as universal};
